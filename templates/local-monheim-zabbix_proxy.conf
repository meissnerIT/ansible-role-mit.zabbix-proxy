# Managed by ansible (mit.zabbix-proxy)
# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

# We use a passive setup (server connects to the proxy). Since zabbix-4 we need
# to set the "Server" parameter in passive mode.
Server={{ zabbix_server }}
ProxyMode=1
Hostname={{ zabbix_hostname|default(inventory_hostname) }}
DBName=/var/lib/zabbix/zabbix_proxy.db

# The Timeout parameter is a least needed for initial creation of the sqlite database,
# without it we get 
# "The proxy does not match Zabbix database. Current database version (mandatory/optional): UNKNOWN. Required mandatory version:"
Timeout=30

TLSAccept=psk
TLSPSKFile=/etc/zabbix/zabbix_proxy.psk
TLSPSKIdentity=PSK-{{ zabbix_hostname|default(inventory_hostname) }}

StartSNMPTrapper=1
SNMPTrapperFile=/var/lib/zabbix/snmp_trapper

